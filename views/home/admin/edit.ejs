<script src="/js/extra/validateRole.js"></script>

<section class="admin-edit-section">
    <form class="section form-data table-m">
        <div class="section-header">
            <h1><%= staff.name %></h1>
        </div>
        <div class="section-body">
            <input class="inputs" type="hidden" name="id" value="<%= id %>">
            <div class="input-block">
                <label for="name">Nombre: </label>
                <input class="inputs" type="text" name="name" id="name" value="<%= staff.name %>" placeholder="Nombre">
            </div>
            <div class="input-block">
                <label for="email">Correo</label>
                <input class="inputs" type="email" name="email" id="email" value="<%= staff.email %>" placeholder="Correo Electrónico">
            </div>
            <div class="input-block">
                <label for="password">Contraseña:</label>
                <input class="inputs" type="password" name="password" id="password" placeholder="Nueva contraseña">
            </div>
            <div class="input-block">
                <label for="role">Rol:</label>
                <select class="inputs" name="roleId" id="role">
                    <% roles.reverse().forEach(role => { %>
                        <% if(role.id === 3){ %>
                            <option selected value="null">SELECIONAR</option>
                        <% } else if(role.id === staff.roleId){ %>
                            <option selected value="<%= role.id %>"><%= role.name %></option>
                        <% } else{ %>  
                            <option value="<%= role.id %>"><%= role.name %></option>
                        <% } %>
                    <% }); %>
                </select>
            </div>
            <div class="input-block">
                <label for="status">Estado:</label>
                <select class="inputs" name="status" id="status">
                    <% if(!staff.status){ %>
                        <option selected value="0">Inactivo</option>
                        <option value="1">Activo</option>
                    <% } else{ %>
                        <option value="0">Inactivo</option>
                        <option selected value="1">Activo</option>
                    <% } %>
                </select>
            </div>
        </div>
        <div class="section-footer">
            <div class="errors divErrors">
            </div>
            <div>
                <button class="btn-send-form">Send</button>
            </div>
        </div>
    </form>

    <div class="section">
        <div class="section-message">
            <h4>IMPORTANTE:</h4>
            <div class="messages">
                <p>* Los usuarios <strong>inactivos</strong> ya no tienen acceso a su cuenta, puedes cambiar esto en cualquier momento.</p>
                <p>* Si el campo <strong>contraseña</strong> se encuentra vacío, no será actualizado.</p>
            </div>
        </div>
    </div>
</section>

<script src='http://localhost:3000/socket.io/socket.io.js'></script>
<script src="/js/admin/edit.js"></script>